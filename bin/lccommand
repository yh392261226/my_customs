#!/bin/bash
## Desc: 列出所有自定义命令
## Author: 杨浩
MYRUNTIME=$(cat $HOME/.myruntime)
CUSTOMSBIN=$MYRUNTIME/customs/bin

clear
if [ -d $CUSTOMSBIN ]; then
    files=$(/bin/ls $CUSTOMSBIN | sort)
            echo "-----------------------------------------------------------------------------------------------------------------------------------------"
    for i in $files; do
        if [ -f $CUSTOMSBIN/$i ] && [ "$i" != "$(basename $0)" ]; then
            desc=$(cat $CUSTOMSBIN/$i | grep 'Desc:' | sed 's/#\|Desc://g' | sed 's/^[ \t\*]*//')
            author=$(cat $CUSTOMSBIN/$i | grep 'Author:' | sed 's/#\|Author://g' | sed 's/^[ \t\*]*//')
            #echo "$i \t\t【 $desc 】"
            printf "%-2s%-15s%-35s%-5s\n" "|" "$i" " $author " "【 $desc 】"
            #printf "%-5s%-35s%-15s\n" "|" "$i" " $author " "【 $desc 】"
            echo "-----------------------------------------------------------------------------------------------------------------------------------------"
        fi
    done
else
    echo "$CUSTOMSBIN does not exists !!!";
    exit 1
fi
