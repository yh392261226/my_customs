#!/usr/bin/env bash
###################################
## Desc: diff the two files md5 value
## Author: 杨浩
###################################
MD5COMMAND=/sbin/md5 #md5 command
LOCALPATH=$1 #args[0]
TARGETPATH=$2 #args[1]

source $MYRUNTIME/customs/bin/mymessage
if [ ! -f $LOCALPATH ] || [ ! -f $TARGETPATH ]; then # one of the files is not exists
	echo "Please check the args, File or Path is not exists!"; exit 1
fi
## Both of the two files are exists, diff them
if [ "$($MD5COMMAND $LOCALPATH)" = "$($MD5COMMAND $TARGETPATH)" ]; then
	#echo "The same file !";
	RESULT=0
else
	#echo $LOCALPATH "and" $TARGETPATH ", are the diffrent files !";
	RESULT=1
fi
echo $RESULT
